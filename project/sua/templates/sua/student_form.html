<!doctype html>
{% load staticfiles %}
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="{% static 'sua/css/bootstrap.min.css' %}">

  <!-- My CSS -->
  <link rel="stylesheet" type="text/css" href="{% static 'sua/css/app.css' %}">

<title>{% if serializer.data.url %}
  正在编辑“{{ serializer.data.name }}”的信息
  {% else %}
  创建学生帐号
  {% endif %} </title>
</head>

<body style="background-color: #EEEEEE">
  <nav class="navbar fixed-top navbar-expand-lg navbar-dark" style="background-color: #4d4d4d;">
    <a class="navbar-brand mr-auto hide-desktop" href="/">
      <img src="{% static 'sua/images/logo-icon3.png' %}" width="30" height="30" class="d-inline-block align-top" alt="">
      数院公益时
    </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
      aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav mr-auto">
        <li class="nav-item active">
          <a class="nav-link" href="/">
            < 返回主页 <span class="sr-only">(current)</span>
          </a>
        </li>
      </ul>
      <a class="navbar-brand mr-auto hide-mobile" href="/">
        <img src="{% static 'sua/images/logo-icon3.png' %}" width="30" height="30" class="d-inline-block align-top" alt="">
        数院公益时
      </a>
      <ul class="navbar-nav my-2 my-lg-0">
        <li class="nav-item dropdown active">
          <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown"
            aria-haspopup="true" aria-expanded="false">
            <img src="{% static 'sua/images/plus.png' %}" width="15" height="15" class="d-inline-block" alt="" style="mix-blend-mode: #fff">
          </a>
          <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown">
            <a class="dropdown-item" href="/applications/apply/">新增公益时申请</a>
          </div>
        </li>
        <li class="nav-item dropdown active">
          <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown"
            aria-haspopup="true" aria-expanded="false">
            {% if nav.user.student == None %}
            {{ nav.user.username }}
            {% else %}
            {{ nav.user.student.name }}
            {% endif %}
          </a>
          <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown">
            <a class="dropdown-item" href="/students/{{ nav.student.id }}/detail/">我的信息</a>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item" href="/logout">登出</a>
          </div>
        </li>
      </ul>
    </div>
  </nav>

  <div class="container mt-5 pt-5">
    <div class="page-head">
<h2 class="page-head-title">{% if serializer.data.url %}
  编辑“{{ serializer.data.name }}”的信息
  {% else %}
  创建学生帐号
  {% endif %}</h2>
      <nav aria-label="breadcrumb" role="navigation">
        <ol class="breadcrumb page-head-nav">
          <li class="breadcrumb-item"><a href="/">主页</a></li>
          <li class="breadcrumb-item active">学生信息</li>
        </ol>
      </nav>
    </div>
    <div class="row main-content">
      <div class="col-lg">
        <div class="invoice">
          <form id="form" enctype="multipart/form-data" role="form" action="" method="POST" data-parsley-validate>
              {% csrf_token %}
            <div class="row invoice-form-header">
              <div class="col-sm-7">
                <div class="invoice-logo"></div>
              </div>
              <div class="col-sm-5 invoice-order">
<span class="invoice-id">{% if serializer.data.url %}
  编辑“{{ serializer.data.name }}”的信息
  {% else %}
  创建学生帐号
  {% endif %}</span>
              </div>
            </div>

            <div class="form-group pt-3">
              <label class="required">学号</label>
              <input name="number" class="form-control" type="number" placeholder="请输入学生的学号：如17001700"
data-parsley-trigger="focusout" value="{{serializer.data.number}}" required />
            </div>
            <div class="form-group pt-3">
              <label class="required">姓名</label>
              <input name="name" class="form-control" type="text" placeholder="请输入学生的姓名：如王郑吴" data-parsley-trigger="focusout"
value="{{serializer.data.name}}" required />
            </div>
            <div class="form-group pt-3">
              <label class="required">年级</label>
              <input name="grade" class="form-control" type="text" placeholder="请输入学生的年级数字：如2017" data-parsley-trigger="focusout"
value="{{serializer.data.grade}}" required />
            </div>
            <div class="form-group pt-3">
              <label class="required">班别</label>
              <input name="classtype" class="form-control" type="text" placeholder="请输入学生的班别数字：如1" data-parsley-trigger="focusout"
value="{{serializer.data.classtype}}" required />
            </div>
            <div class="form-group pt-3">
              <label>手机号</label>
              <input name="phone" class="form-control" type="tel" placeholder="请输入学生的联系电话：如13612341234"
data-parsley-trigger="focusout" pattern="[\d\(\)+]+" data-parsley-pattern-message="请输入正确的电话号码"
value="{{serializer.data.phone}}" />
            </div>
            <div class="form-group pt-3">
              <label>权限</label>
              <select class="form-control" name="power" value="0">
                <option value="0" selected>普通学生</option>
                <option value="1">活动级管理员</option>
              </select>
            </div>
            <div class="form-group pt-3">
              <label class="required">密码</label>
              <input id="inputPassword" name="user.password" class="form-control" type="password" placeholder="请输入学生账号的密码，6位以上"
                data-parsley-trigger="focusout" required minlength="6" data-parsley-minlength-message="密码长度太短，至少应有6位" />
            </div>
            
            <div class="row invoice-footer">
              <div class="col-lg-12">
                <button type="submit" class="btn btn-lg btn-space btn-primary">提交</button>
                <a class="btn btn-lg btn-space btn-secondary" href="/">返回</a>
              </div>
            </div>
          </form>
        </div>
      </div>

    </div>

  </div>
  <!-- Optional JavaScript -->
<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<script src="{% static 'sua/js/jquery-3.3.1.slim.min.js' %}"></script>
<script src="{% static 'sua/js/popper.min.js' %}"></script>
<script src="{% static 'sua/js/bootstrap.min.js' %}"></script>
<script src="{% static 'sua/js/parsley.min.js' %}"></script>
<script src="{% static 'sua/js/i18n/zh_cn.js' %}"></script>
<script src="{% static 'sua/js/i18n/zh_cn.extra.js' %}"></script>
</body>

</html>




<!--

<form enctype="multipart/form-data" role="form" action="" method="POST">
  {% csrf_token %}
  <div class="row">
    <div class="col-lg-6 col-lg-offset-3">
      <div class="form-group">
        <label>学号</label>
        {% if user.is_staff %}
          <input name="number" class="form-control" type="number" value="{{serializer.data.number}}"/>
        {% else %}
          <input disabled="true" name="number" class="form-control" type="number" value="{{serializer.data.number}}"/>
          <input name="number" type="hidden" value="{{serializer.data.number}}"/>
        {% endif %}
      </div>
      <div class="form-group">
        <label>姓名</label>
        <input name="name" class="form-control" type="text" value="{{serializer.data.name}}"/>
      </div>
      <div class="form-group">
        <label>公益时</label>
        <input name="suahours" class="form-control" type="number" value="{{serializer.data.suahours}}" disabled="true"/>
      </div>
      <div class="form-group">
        <label>学生年级</label>
          <input name="grade" class="form-control" type="number" value="{{serializer.data.grade}}"/>
        </select>
      </div>
      <div class="form-group">
        <label>班别</label>
        <input name="classtype" class="form-control" type="number" value="{{serializer.data.classtype}}"/>
      </div>
      <div class="form-group">
        <label>手机号</label>
        <input name="phone" class="form-control" type="tel" value="{{serializer.data.phone}}" />
      </div>

      {% if user.is_staff %}
      <div class="form-group">
        <label>权限</label>
        <select class="form-control" name="power" value="{{serializer.data.power}}" >
          <option value="0" {% if serializer.data.power == 0 %}selected{% endif %}>普通学生</option>
          <option value="1" {% if serializer.data.power == 1 %}selected{% endif %}>活动级管理员</option>
        </select>
      </div>
      {% endif %}


      <div class="form-group">
        <label>密码</label>
        <input name="user.password" class="form-control" type="password" value="{{serializer.data.user.password}}"/>
      </div>
      <button type="submit" class="btn btn-block btn-primary">提交</button>
      <a class="btn btn-default btn-block" href="{% if serializer.data.url %}{{ serializer.data.url }}{% else %}/#admin_students{% endif %}">返回</a>
    </div>
  </div>
</form>

<div class="row">
  <div class="col-lg-12">
    <hr />
  </div>
</div>

-->
